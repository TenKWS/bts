<ul class="list-without-markers">
  {% assign sorted_posts = site.posts | sort_natural: 'order' | reverse %}
  {% for post in sorted_posts %}
    {% if post.published == true %}
      <li class="index-container">
        <div class="index-number-container">
          <div class="index-label">Číslo</div>
          <h3 class="index-order">{{ post.order }}</h3>
        </div>
        <div class="index-title-container">
          <div class="index-label">Název</div>
          <h2 class="index-title">
            <a href="{{ post.url | relative_url }}">{{ post.name }}</a>
          </h2>
        </div>
        <div class="index-release-container">
          <div class="index-label">Vyšlo</div>
          <h4 class="index-release">{{ post.release }}</h4>
        </div>
        <div class="index-post-background" id="hover-background" style="background-image: url('{{ post.background }}');"></div>
      </li>
    {% endif %}
  {% endfor %}
</ul>
  
  <script>
    const indexContainers = document.querySelectorAll(".index-container");
  
    indexContainers.forEach(function(indexContainer) {
      const hoverBackground = indexContainer.querySelector(".index-post-background");
  
      indexContainer.addEventListener("mouseenter", function(event) {
        hoverBackground.style.transition = "transform 0.3s ease"; // Enable smooth transition
      });
  
      indexContainer.addEventListener("mousemove", function(event) {
        const mouseX = event.clientX;
        const mouseY = event.clientY;
        const rect = hoverBackground.getBoundingClientRect();
        const strength = 0.1; // Adjust this value to change the strength of the effect
        const offsetX = (mouseX - rect.left - rect.width / 2) * strength;
        const offsetY = (mouseY - rect.top - rect.height / 2) * strength;
        const transformValue = `translate(${offsetX}px, ${offsetY}px) scale(1.3)`;
        hoverBackground.style.transformOrigin = "center";
        hoverBackground.style.transform = transformValue;
      });
  
      indexContainer.addEventListener("mouseleave", function(event) {
        hoverBackground.style.transition = "transform 0.5s ease"; // Slow transition back to original position
        hoverBackground.style.transform = ""; // Reset transformation
      });
    });
  </script>
